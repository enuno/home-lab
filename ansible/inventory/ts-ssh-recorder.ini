# Tailscale SSH Recorder Inventory
# This inventory defines hosts for running Tailscale SSH session recorder
#
# Usage:
#   ansible-playbook -i inventory/ts-ssh-recorder.ini playbooks/tailscale-ssh-recorder-deploy.yml
#
# Notes:
#   - Ensure Docker is installed on the target host
#   - SSH key authentication must be configured
#   - tailscale_auth_key must be defined in group_vars/all_vault.yml
#   - The recorder will store recordings in /home/ansible/tsrecorder

# ============================================
# Tailscale SSH Recorder Hosts
# ============================================
[ts-ssh-recorder]
ts-recorder-01 ansible_host=10.2.0.22 ansible_user=ansible

# ============================================
# Group Variables
# ============================================
[ts-ssh-recorder:vars]
# Ansible connection settings
ansible_python_interpreter=/usr/bin/python3
ansible_ssh_private_key_file=~/.ssh/id_ed25519
ansible_ssh_common_args='-o StrictHostKeyChecking=no'

# Become settings
ansible_become=true
ansible_become_method=sudo
ansible_become_user=root

# Tailscale SSH Recorder settings
tsrecorder_data_directory=/home/ansible/tsrecorder
tsrecorder_container_name=ts-ssh-recorder
tsrecorder_docker_image=tailscale/tsrecorder:stable
# tsrecorder_hostname=recorder  # Optional: Custom hostname for the recorder (uncomment to set)
